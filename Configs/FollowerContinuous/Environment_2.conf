
######################################################
### ENV 25 ###
######################################################

envconf_v25 {
    env: continuous-grid
    normalize_actions = False
    env_config {
        name = Test-Cont-Env-Auto-v0
        base_env_config = {
            add_obstacles = True
            max_distance = 4
            warm_start = 0
            max_steps = 10000
            framerate = 5000
            obstacle_number = 35
            constant_follower_speed = False
            corridor_length = 7
            corridor_width = 1.5
            move_bear_v4 = True
            follower_speed_koeff = 0.6
            negative_speed = True
            bear_speed_coeff = 1.3
            early_stopping = {
                max_distance_coef = 3.5
                low_reward = -300
            }
            random_frames_per_step = [2,20]
            leader_speed_regime = {
                0 = [0.2, 1]
                200 = 1
                1000 = [0.5, 1]
                1500 = 0.75
                2000 = 0
                2500 = 1
                3000 = [0.5, 1]
                4000 = [0.0, 0.5]
                5000 = [0.4, 1]
            }
            follower_sensors {
                LeaderPositionsTracker_v2 = {
                    eat_close_points = False
                    generate_corridor = True
                    saving_period = 8
                    sensor_name = LeaderPositionsTracker_v2
                    start_corridor_behind_follower = True
                }
                LeaderCorridor_lasers_v2 = {
                    sensor_name = LeaderCorridor_lasers_v2
                    react_to_obstacles = False
                    react_to_safe_corridor = True
                    react_to_green_zone = True
                    front_lasers_count = 6
                    back_lasers_count = 6
                    laser_length = 150
                }
                LeaderObstacles_lasers = {
                    sensor_name = LeaderObstacles_lasers
                    react_to_obstacles = True
                    react_to_safe_corridor = False
                    react_to_green_zone = False
                    front_lasers_count = 6
                    back_lasers_count = 6
                    laser_length = 150
                }
                FollowerInfo = {
                sensor_name = FollowerInfo
                speed_direction_param = 2
                }

            }
        }
        wrappers = [ContinuousObserveModifier_v0]
    }
}

envconf_v25_noFeats = ${envconf_v25} {
    env_config {
        base_env_config = {
            follower_sensors = null
        }
    }
}


#############################################
################ ENV 26 #####################

envconf_v26v2 = ${envconf_v25_noFeats} {
        env_config {
        base_env_config = {
            add_bear = True
            bear_number = 2
            move_bear_v4 = True
            multi_random_bears = False
            bear_behind = False
            corridor_length = 10
            corridor_width = 1.5
            follower_speed_koeff = 0.65
            negative_speed = True
            bear_speed_coeff = 1.2
            obstacle_number = 35
            }
        }
}


##########################################
### env 27 new custom model / add configs
##########################################

envconf_v27v2_feats_v14 = ${envconf_v26v2}{
    env_config {
        base_env_config = {
            add_bear = True
            bear_speed_coeff = 1.2
            leader_speed_coeff = 0.45
            follower_speed_koeff = 0.6
            move_bear_v4 = True
            use_prev_obs = True
            max_prev_obs = 5



            follower_sensors {
                LeaderPositionsTracker_v2 = {
                    eat_close_points = False
                    generate_corridor = True
                    saving_period = 8
                    sensor_name = LeaderPositionsTracker_v2
                    start_corridor_behind_follower = True
                }
                LeaderCorridor_lasers_v2 = {
                    sensor_name = LeaderCorridor_lasers_v2
                    react_to_obstacles = True
                    react_to_safe_corridor = True
                    react_to_green_zone = True
                    front_lasers_count = 6
                    back_lasers_count = 6
                    laser_length = 150
                }
                LeaderObstacles_lasers = {
                    sensor_name = LeaderObstacles_lasers
                    react_to_obstacles = True
                    react_to_safe_corridor = False
                    react_to_green_zone = False
                    front_lasers_count = 15
                    back_lasers_count = 15
                    laser_length = 200
                }
                FollowerInfo = {
                    sensor_name = FollowerInfo
                    speed_direction_param = 2
                }

            }
        }
    }
}


envconf_v27v2_feats_v14_prev_10 = ${envconf_v27v2_feats_v14}{
    env_config {
        base_env_config = {
            add_bear = True
            bear_speed_coeff = 1.2
            leader_speed_coeff = 0.45
            follower_speed_koeff = 0.6
            move_bear_v4 = True
            use_prev_obs = True
            max_prev_obs = 10
        }
    }
}

envconf_v27v2_feats_v14_prev_20 = ${envconf_v27v2_feats_v14}{
    env_config {
        base_env_config = {
            add_bear = True
            bear_speed_coeff = 1.2
            leader_speed_coeff = 0.45
            follower_speed_koeff = 0.6
            move_bear_v4 = True
            use_prev_obs = True
            max_prev_obs = 10
        }
    }
}

#######################################

envconf_v27v2_feats_v14_prev_0 = ${envconf_v27v2_feats_v14}{
    env_config {
        base_env_config = {
            add_bear = True
            bear_speed_coeff = 1.2
            leader_speed_coeff = 0.45
            follower_speed_koeff = 0.6
            move_bear_v4 = True
            use_prev_obs = False
            max_prev_obs = 10
        }
    }
}


#############################################
### env 28 new custom model / add configs ###
#############################################

envconf_v28_noFeats = ${envconf_v25_noFeats} {
        env_config {
        base_env_config = {
            add_bear = True
            bear_number = 1
            move_bear_v4 = True
            multi_random_bears = False
            bear_behind = False
            corridor_length = 10
            corridor_width = 1.5
            negative_speed = True
            bear_speed_coeff = 1.2
            obstacle_number = 35
            leader_speed_coeff = 0.45
            follower_speed_koeff = 0.6
            move_bear_v4 = True
            use_prev_obs = False
            max_prev_obs = 5
            }
        }
}

################################################

envconf_v28_feats_v14 = ${envconf_v28_noFeats}{
    env_config {
        base_env_config = {

            move_bear_v4 = True
            use_prev_obs = True
            max_prev_obs = 5

            follower_sensors {
                LeaderPositionsTracker_v2 = {
                    eat_close_points = False
                    generate_corridor = True
                    saving_period = 8
                    sensor_name = LeaderPositionsTracker_v2
                    start_corridor_behind_follower = True
                }
                LeaderCorridor_lasers_v2 = {
                    sensor_name = LeaderCorridor_lasers_v2
                    react_to_obstacles = True
                    react_to_safe_corridor = True
                    react_to_green_zone = True
                    front_lasers_count = 6
                    back_lasers_count = 6
                    laser_length = 150
                }
                LeaderObstacles_lasers = {
                    sensor_name = LeaderObstacles_lasers
                    react_to_obstacles = True
                    react_to_safe_corridor = False
                    react_to_green_zone = False
                    front_lasers_count = 15
                    back_lasers_count = 15
                    laser_length = 200
                }
                FollowerInfo = {
                    sensor_name = FollowerInfo
                    speed_direction_param = 2
                }

            }
        }
    }
}

##############################################

envconf_v28_b1_feats_v14 = ${envconf_v28_feats_v14}{
    env_config {
        base_env_config = {
            bear_number = 1
            use_prev_obs = False
            max_prev_obs = 5
        }
    }
}
##############################################

envconf_v28_b1_feats_v14_prev5 = ${envconf_v28_feats_v14}{
    env_config {
        base_env_config = {
            bear_number = 1
        }
    }
}

envconf_v28_b2_feats_v14_prev5 = ${envconf_v28_feats_v14}{
    env_config {
        base_env_config = {
            bear_number = 2
        }
    }
}


##############################################
### Feats for prev feats v14v2
### ContinuousObserveModifierPrev
################################################

envconf_v28_feats_v14v2 = ${envconf_v28_noFeats}{
    env_config {
        base_env_config = {

            move_bear_v4 = True
            use_prev_obs = True
            max_prev_obs = 5

            follower_sensors {
                LeaderPositionsTracker_v2 = {
                    eat_close_points = False
                    generate_corridor = True
                    saving_period = 8
                    sensor_name = LeaderPositionsTracker_v2
                    start_corridor_behind_follower = True
                }
                LeaderCorridor_Prev_lasers_v2 = {
                    sensor_name = LeaderCorridor_Prev_lasers_v2
                    react_to_obstacles = True
                    react_to_safe_corridor = True
                    react_to_green_zone = True
                    front_lasers_count = 6
                    back_lasers_count = 6
                    laser_length = 150
                }
                LaserPrevSensor = {
                    sensor_name = LaserPrevSensor
                    react_to_obstacles = True
                    react_to_safe_corridor = False
                    react_to_green_zone = False
                    front_lasers_count = 15
                    back_lasers_count = 15
                    laser_length = 200
                }

            }
        }

        wrappers = [ContinuousObserveModifierPrev]
    }
}


##############################################

envconf_v28_b1_feats_v14v2_prev5 = ${envconf_v28_feats_v14v2}{
    env_config {
        base_env_config = {
            bear_number = 1
            use_prev_obs = True
            max_prev_obs = 5
        }
    }
}

envconf_v28_b2_feats_v14v2_prev5 = ${envconf_v28_feats_v14}{
    env_config {
        base_env_config = {
            bear_number = 2
            use_prev_obs = True
            max_prev_obs = 5
        }
    }
}